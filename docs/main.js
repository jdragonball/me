/*! For license information please see main.js.LICENSE.txt */
(()=>{"use strict";var e,t={663:(e,t,n)=>{var o=n(709),i=n(653);function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=u(e);if(t){var i=u(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(p,e);var t,n,s,u=c(p);function p(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),l(d(n=u.call(this)),"onPointerlockChange",(()=>{document.pointerLockElement?(n.dispatchEvent(n.lockEvent),n.isLocked=!0):(n.dispatchEvent(n.unlockEvent),n.isLocked=!1)})),l(d(n),"onPointerlockError",(()=>{})),l(d(n),"onMouseMove",(e=>{if(n.enabled){var{movementX:t,movementY:o}=e;n.yawObject.rotation.y-=.002*t,n.pitchObject.rotation.x-=.002*o,n.pitchObject.rotation.x=Math.max(-Math.PI/2,Math.min(Math.PI/2,n.pitchObject.rotation.x))}})),l(d(n),"onKeyDown",(e=>{switch(e.code){case"KeyW":case"ArrowUp":n.moveForward=!0;break;case"KeyA":case"ArrowLeft":n.moveLeft=!0;break;case"KeyS":case"ArrowDown":n.moveBackward=!0;break;case"KeyD":case"ArrowRight":n.moveRight=!0;break;case"Space":n.canJump&&(n.velocity.y=n.jumpVelocity),n.canJump=!1}})),l(d(n),"onKeyUp",(e=>{switch(e.code){case"KeyW":case"ArrowUp":n.moveForward=!1;break;case"KeyA":case"ArrowLeft":n.moveLeft=!1;break;case"KeyS":case"ArrowDown":n.moveBackward=!1;break;case"KeyD":case"ArrowRight":n.moveRight=!1}})),n.enabled=!1,n.cannonBody=t,n.velocityFactor=.2,n.jumpVelocity=20,n.pitchObject=new o.Tme,n.pitchObject.add(e),n.yawObject=new o.Tme,n.yawObject.position.y=2,n.yawObject.add(n.pitchObject),n.quaternion=new o._fP,n.moveForward=!1,n.moveBackward=!1,n.moveLeft=!1,n.moveRight=!1,n.canJump=!1;var r=new i.AO,a=new i.AO(0,1,0);return n.cannonBody.addEventListener("collide",(e=>{var{contact:t}=e;t.bi.id===n.cannonBody.id?t.ni.negate(r):r.copy(t.ni),r.dot(a)>.5&&(n.canJump=!0)})),n.velocity=n.cannonBody.velocity,n.inputVelocity=new o.Pa4,n.euler=new o.USm,n.lockEvent={type:"lock"},n.unlockEvent={type:"unlock"},n.connect(),n}return t=p,(n=[{key:"connect",value:function(){document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("pointerlockchange",this.onPointerlockChange),document.addEventListener("pointerlockerror",this.onPointerlockError),document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.onKeyUp)}},{key:"disconnect",value:function(){document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("pointerlockchange",this.onPointerlockChange),document.removeEventListener("pointerlockerror",this.onPointerlockError),document.removeEventListener("keydown",this.onKeyDown),document.removeEventListener("keyup",this.onKeyUp)}},{key:"dispose",value:function(){this.disconnect()}},{key:"lock",value:function(){document.body.requestPointerLock()}},{key:"unlock",value:function(){document.exitPointerLock()}},{key:"getObject",value:function(){return this.yawObject}},{key:"getDirection",value:function(){var e=new i.AO(0,0,-1);return e.applyQuaternion(this.quaternion),e}},{key:"update",value:function(e){!1!==this.enabled&&(e*=1e3,e*=.1,this.inputVelocity.set(0,0,0),this.moveForward&&(this.inputVelocity.z=-this.velocityFactor*e),this.moveBackward&&(this.inputVelocity.z=this.velocityFactor*e),this.moveLeft&&(this.inputVelocity.x=-this.velocityFactor*e),this.moveRight&&(this.inputVelocity.x=this.velocityFactor*e),this.euler.x=this.pitchObject.rotation.x,this.euler.y=this.yawObject.rotation.y,this.euler.order="XYZ",this.quaternion.setFromEuler(this.euler),this.inputVelocity.applyQuaternion(this.quaternion),this.velocity.x+=this.inputVelocity.x,this.velocity.z+=this.inputVelocity.z,this.yawObject.position.copy(this.cannonBody.position))}}])&&r(t.prototype,n),s&&r(t,s),p}(o.pBf);"jaeyong.me"==window.location.host&&"https:"!=window.location.protocol&&(window.location.protocol="https"),function(){var e,t,n,r,a,c,s,d,u,l,h=performance.now(),v=[],y=[],w=[],f=[],m=document.getElementById("instructions");function b(){e.aspect=window.innerWidth/window.innerHeight,e.updateProjectionMatrix(),n.setSize(window.innerWidth,window.innerHeight)}!function(){e=new o.cPb(75,window.innerWidth/window.innerHeight,.1,1e3),(t=new o.xsS).fog=new o.ybr(16777215,0,500);var i=new o.y8_(1e3);t.add(i),(n=new o.CP7({antialias:!0})).setSize(window.innerWidth,window.innerHeight),n.setClearColor(t.fog.color),n.shadowMap.enabled=!0,n.shadowMap.type=o.ntZ,document.body.appendChild(n.domElement);var a=new o.Mig(16777215,.1);t.add(a);var c=new o.PMe(16777215,.9,0,Math.PI/4,1);c.position.set(10,30,20),c.target.position.set(0,0,0),c.castShadow=!0,c.shadow.camera.near=10,c.shadow.camera.far=100,c.shadow.camera.fov=30,c.shadow.mapSize.width=2048,c.shadow.mapSize.height=2048,t.add(c),r=new o.YBo({color:14540253});var s=new o.BKK(300,300,100,100);s.rotateX(-Math.PI/2);var d=new o.Kj0(s,r);d.receiveShadow=!0,t.add(d),window.addEventListener("resize",b)}(),function(){(a=new i.q3).defaultContactMaterial.contactEquationStiffness=1e9,a.defaultContactMaterial.contactEquationRelaxation=4;var n=new i.wf;n.iterations=7,n.tolerance=.1,a.solver=new i.H5(n),a.gravity.set(0,-20,0),u=new i.F5("physics");var l=new i.kp(u,u,{friction:0,restitution:.3});a.addContactMaterial(l);s=new i.aL(1.3),(d=new i.uT({mass:5,material:u})).addShape(s),d.position.set(0,5,0),d.linearDamping=.9,a.addBody(d);var p=new i.JO,h=new i.uT({mass:0,material:u});h.addShape(p),h.quaternion.setFromEuler(-Math.PI/2,0,0),a.addBody(h);for(var m=new i.AO(1,1,1),b=new i.xu(m),k=new o.nvb(2*m.x,2*m.y,2*m.z),O=0;O<7;O++){var g=new i.uT({mass:5});g.addShape(b);var j=new o.Kj0(k,r),E=20*(Math.random()-.5),L=1*(Math.random()-.5)+1,P=20*(Math.random()-.5)-10;g.position.set(E,L,P),j.position.copy(g.position),j.castShadow=!0,j.receiveShadow=!0,a.addBody(g),t.add(j),w.push(g),f.push(j)}var x=new i.aL(.2),M=new o.Aip(x.radius,32,32);window.addEventListener("click",(n=>{if(c.enabled){var u=new i.uT({mass:1});u.addShape(x);var l=new o.Kj0(M,r);l.castShadow=!0,l.receiveShadow=!0,a.addBody(u),t.add(l),v.push(u),y.push(l);var p,h=((p=new o.Pa4(0,0,1)).unproject(e),new o.zHn(d.position,p.sub(d.position).normalize()).direction);u.velocity.set(15*h.x,15*h.y,15*h.z);var w=d.position.x+h.x*(1.02*s.radius+x.radius),f=d.position.y+h.y*(1.02*s.radius+x.radius),m=d.position.z+h.z*(1.02*s.radius+x.radius);u.position.set(w,f,m),l.position.copy(u.position)}}))}(),l=document.querySelector(".target-icon"),c=new p(e,d),t.add(c.getObject()),m.addEventListener("click",(()=>{c.lock()})),c.addEventListener("lock",(()=>{c.enabled=!0,m.style.display="none",l.style.visibility="visible"})),c.addEventListener("unlock",(()=>{c.enabled=!1,m.style.display=null,l.style.visibility="hidden"})),function o(){requestAnimationFrame(o);var i=performance.now()/1e3,r=i-h;if(h=i,c.enabled){a.step(.016666666666666666,r);for(var s=0;s<v.length;s++)y[s].position.copy(v[s].position),y[s].quaternion.copy(v[s].quaternion);for(var d=0;d<w.length;d++)f[d].position.copy(w[d].position),f[d].quaternion.copy(w[d].quaternion)}c.update(r),n.render(t,e)}()}()}},n={};function o(e){var i=n[e];if(void 0!==i)return i.exports;var r=n[e]={exports:{}};return t[e](r,r.exports,o),r.exports}o.m=t,e=[],o.O=(t,n,i,r)=>{if(!n){var a=1/0;for(u=0;u<e.length;u++){for(var[n,i,r]=e[u],c=!0,s=0;s<n.length;s++)(!1&r||a>=r)&&Object.keys(o.O).every((e=>o.O[e](n[s])))?n.splice(s--,1):(c=!1,r<a&&(a=r));if(c){e.splice(u--,1);var d=i();void 0!==d&&(t=d)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[n,i,r]},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={179:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var i,r,[a,c,s]=n,d=0;if(a.some((t=>0!==e[t]))){for(i in c)o.o(c,i)&&(o.m[i]=c[i]);if(s)var u=s(o)}for(t&&t(n);d<a.length;d++)r=a[d],o.o(e,r)&&e[r]&&e[r][0](),e[a[d]]=0;return o.O(u)},n=self.webpackChunkme=self.webpackChunkme||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var i=o.O(void 0,[253],(()=>o(663)));i=o.O(i)})();